<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Land Registry System</title>
  <script src="https://cdn.jsdelivr.net/npm/ethers@6.6.2/dist/ethers.umd.min.js"></script>
  <style>
    /* Body Gradient Background */
    body {
      margin: 0;
      padding: 0;
      font-family: 'Segoe UI', sans-serif;
      background: linear-gradient(-45deg, #1e3c72, #2a5298, #6fb1fc, #a1c4fd);
      background-size: 400% 400%;
      animation: gradientBG 15s ease infinite;
      color: #002244;
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
    }

    @keyframes gradientBG {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }

    /* Container Card */
    .container {
      background: white;
      padding: 2.5rem;
      border-radius: 20px;
      max-width: 700px;
      width: 100%;
      box-shadow: 0 10px 30px rgba(0, 0, 100, 0.25);
      backdrop-filter: blur(6px);
      border: 1px solid rgba(255, 255, 255, 0.3);
    }

    h1 {
      text-align: center;
      color: #0052D4;
      margin-bottom: 2rem;
      font-size: 2.2rem;
      text-shadow: 1px 1px 5px rgba(0, 0, 0, 0.1);
    }

    h3 {
      color: #003366;
      margin-top: 2rem;
      font-size: 1.3rem;
      border-left: 4px solid #0052D4;
      padding-left: 10px;
    }

    input {
      background: #f5f9ff;
      border: 2px solid #d0e3ff;
      border-radius: 10px;
      padding: 12px;
      font-size: 1rem;
      margin: 0.4rem 0;
      width: 100%;
      transition: 0.3s;
    }

    input:focus {
      border-color: #007BFF;
      outline: none;
      box-shadow: 0 0 8px rgba(0, 123, 255, 0.3);
    }

    button {
      background: linear-gradient(to right, #0052D4, #4364F7);
      border: none;
      color: white;
      padding: 12px;
      margin-top: 0.8rem;
      border-radius: 12px;
      font-size: 1rem;
      font-weight: bold;
      cursor: pointer;
      width: 100%;
      transition: 0.3s ease-in-out;
    }

    button:hover {
      background: linear-gradient(to right, #003c9e, #2840b0);
      box-shadow: 0 0 12px rgba(0, 100, 255, 0.4);
    }

    .output {
      background: #eef5ff;
      border-left: 4px solid #0052D4;
      padding: 1rem;
      margin-top: 1.5rem;
      border-radius: 10px;
      font-family: 'Courier New', monospace;
      color: #002244;
      white-space: pre-wrap;
    }

    .section {
      margin-bottom: 2rem;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>üåç Land Registry System</h1>

    <div class="section">
      <h3>Register New Land</h3>
      <input id="regId" placeholder="Land ID" type="number" />
      <input id="regLocation" placeholder="Location (e.g. City, State)" />
      <input id="regArea" placeholder="Area in sq ft" type="number" />
      <button onclick="registerLand()">Register Land</button>
    </div>

    <div class="section">
      <h3>Transfer Ownership</h3>
      <input id="transId" placeholder="Land ID to Transfer" type="number" />
      <input id="newOwner" placeholder="New Owner's Wallet Address" />
      <button onclick="transferLand()">Transfer Land</button>
    </div>

    <div class="section">
      <h3>Get Land Information</h3>
      <input id="getId" placeholder="Enter Land ID" type="number" />
      <button onclick="getLand()">Fetch Land Info</button>
    </div>

    <div class="output" id="output">üìÑ Output will be shown here...</div>
  </div>

  <script>
    const contractAddress = "YOUR_CONTRACT_ADDRESS_HERE"; // Replace with your deployed contract address
    const abi = [
      {
        "inputs": [
          { "internalType": "uint256", "name": "_id", "type": "uint256" },
          { "internalType": "string", "name": "_location", "type": "string" },
          { "internalType": "uint256", "name": "_area", "type": "uint256" }
        ],
        "name": "registerLand",
        "outputs": [],
        "stateMutability": "nonpayable",
        "type": "function"
      },
      {
        "inputs": [
          { "internalType": "uint256", "name": "_id", "type": "uint256" },
          { "internalType": "address", "name": "_newOwner", "type": "address" }
        ],
        "name": "transferLand",
        "outputs": [],
        "stateMutability": "nonpayable",
        "type": "function"
      },
      {
        "inputs": [{ "internalType": "uint256", "name": "_id", "type": "uint256" }],
        "name": "getLand",
        "outputs": [
          { "internalType": "uint256", "name": "", "type": "uint256" },
          { "internalType": "string", "name": "", "type": "string" },
          { "internalType": "uint256", "name": "", "type": "uint256" },
          { "internalType": "address", "name": "", "type": "address" }
        ],
        "stateMutability": "view",
        "type": "function"
      }
    ];

    let provider, signer, contract;

    async function connect() {
      if (window.ethereum) {
        await window.ethereum.request({ method: "eth_requestAccounts" });
        provider = new ethers.BrowserProvider(window.ethereum);
        signer = await provider.getSigner();
        contract = new ethers.Contract(contractAddress, abi, signer);
      } else {
        alert("MetaMask is required to use this system.");
      }
    }

    connect();

    async function registerLand() {
      const id = document.getElementById("regId").value;
      const location = document.getElementById("regLocation").value;
      const area = document.getElementById("regArea").value;

      try {
        const tx = await contract.registerLand(id, location, area);
        await tx.wait();
        document.getElementById("output").innerText = ‚úÖ Land Registered\nTx Hash: ${tx.hash};
      } catch (err) {
        document.getElementById("output").innerText = ‚ùå Error: ${err.message};
      }
    }

    async function transferLand() {
      const id = document.getElementById("transId").value;
      const newOwner = document.getElementById("newOwner").value;

      try {
        const tx = await contract.transferLand(id, newOwner);
        await tx.wait();
        document.getElementById("output").innerText = ‚úÖ Ownership Transferred\nTx Hash: ${tx.hash};
      } catch (err) {
        document.getElementById("output").innerText = ‚ùå Error: ${err.message};
      }
    }

    async function getLand() {
      const id = document.getElementById("getId").value;

      try {
        const land = await contract.getLand(id);
        document.getElementById("output").innerText = `
üîç Land Info:
‚Ä¢ ID: ${land[0]}
‚Ä¢ Location: ${land[1]}
‚Ä¢ Area: ${land[2]} sq ft
‚Ä¢ Owner: ${land[3]}
        `;
      } catch (err) {
        document.getElementById("output").innerText = ‚ùå Error: ${err.message};
      }
    }
  </script>
</body>
</html>
